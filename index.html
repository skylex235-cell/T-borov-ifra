<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TÃ¡borovÃ¡ hra</title>

<link href="https://fonts.googleapis.com/css2?family=Luckiest+Guy&display=swap" rel="stylesheet">

<style>
body {
    font-family: "Luckiest Guy", cursive;
    background-image: url("final photo.png");
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    background-color: #ffffff;
    min-height: 100vh;
    text-align: center;
    transition: background-image 0.5s ease-in-out;
}

h1 {
    color: #2d3436;
}

#game {
    background: transparent;
    padding: 15px;
    border-radius: 20px;
    max-width: 900px;
    margin: auto;
    border: 4px dashed rgba(0,0,0,0.4);
}

.words, .targets {
    display: flex;
    justify-content: center;
    gap: 15px;
    flex-wrap: wrap;
    margin: 20px;
}

.word {
    padding: 10px 15px;
    background: #6ab04c;
    color: white;
    border-radius: 10px;
    cursor: grab;
    box-shadow: 2px 2px 5px rgba(0,0,0,0.3);
}

.target {
    width: 220px;
    border: 3px dashed #2d3436;
    border-radius: 10px;
    background: #fff;
    padding: 8px;
}

button {
    padding: 12px 25px;
    font-size: 16px;
    border-radius: 10px;
    border: none;
    background: #f0932b;
    color: white;
    cursor: pointer;
}

button:hover {
    background: #e17055;
}

.label {
    font-size: 14px;
    margin-bottom: 5px;
}

.slot {
    height: 40px;
    border: 2px dashed #555;
    border-radius: 8px;
    background: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
}
</style>
</head>

<body>

<h1 id="title"></h1>
<p id="task"></p>

<div id="game"></div>

<button id="checkBtn" onclick="check()">Zkontrolovat Ãºkol</button>

<script>
let level = 0;
let dragged = null;

const soundCorrect = new Audio("zvuk-dobre.mpeg");
const soundWrong   = new Audio("zvuk-spatne.mpeg");

const levels = [
{
    type: "intro",
    title: "ğŸ•ï¸ VÃ­tej na tÃ¡borovÃ© hÅ™e!",
    background: "padÃ¡nÃ­.jpg",
    text: `
        VÃ­tej V prokopovÄ› draÄÃ­m doupÄ›ti! ğŸ‰<br><br>
        Pokud chceÅ¡ uniknout z doupÄ›te a zÃ¡roveÅˆ najÃ­t mÃ­sto setkanÃ­ s ostatnÃ­mi pÅ™eÅ¾ivÅ¡Ã­mi.<br>
        MusÃ­Å¡ sprÃ¡vnÄ› splnit Ãºkoly a hÃ¡danky kterÃ© tÄ› ÄekajÃ­ po cestÄ› na svobodu.<br><br>
        PÅ™iprav se, prokopovo draÄÃ­ doupÄ› doposud nikdo neopustil Å¾ivÃ½! ğŸ”¥
    `
},
{
    type: "game",
    title: "ğŸ•ï¸ StanoviÅ¡tÄ› 1 â€“ Co patÅ™Ã­ do batohu?",
    background: "Drak.webp",
    words: [
        {id:"spacak", text:"SpacÃ¡k"},
        {id:"kartacek", text:"KartÃ¡Äek"},
        {id:"laptop", text:"Notebook"}
    ],
    targets: [
        {text:"Na spanÃ­", answer:"spacak"},
        {text:"Hygiena", answer:"kartacek"},
        {text:"Do tÃ¡bora nepatÅ™Ã­", answer:"laptop"}
    ]
},
{
    type: "game",
    title: "ğŸ”¥ StanoviÅ¡tÄ› 2 â€“ U ohnÄ›",
    background: "Chodba.webp",
    words: [
        {id:"kytara", text:"Kytara"},
        {id:"sirky", text:"Sirky"},
        {id:"plysak", text:"PlyÅ¡Ã¡k"}
    ],
    targets: [
        {text:"Hudba u ohnÄ›", answer:"kytara"},
        {text:"RozdÄ›lÃ¡vÃ¡nÃ­ ohnÄ›", answer:"sirky"},
        {text:"Na spanÃ­ do stanu", answer:"plysak"}
    ]
},
{
    type: "game",
    title: "ğŸ—ºï¸ StanoviÅ¡tÄ› 3 â€“ Orientace v lese",
    background: "DveÅ™e.webp",
    words: [
        {id:"mapa", text:"Mapa"},
        {id:"kompas", text:"Kompas"},
        {id:"ovladac", text:"OvladaÄ od TV"}
    ],
    targets: [
        {text:"Ukazuje cestu", answer:"mapa"},
        {text:"Ukazuje sever", answer:"kompas"},
        {text:"Do lesa nepatÅ™Ã­", answer:"ovladac"}
    ]
}
];

function loadLevel() {
    const game = document.getElementById("game");
    document.body.style.backgroundImage = `url('${levels[level].background}')`;
    document.body.style.backgroundSize = "contain";
    document.body.style.backgroundRepeat = "no-repeat";
    document.body.style.backgroundPosition = "center";
    const title = document.getElementById("title");
    const task = document.getElementById("task");
    const checkBtn = document.getElementById("checkBtn");

    game.innerHTML = "";
    title.innerText = levels[level].title;
    task.innerText = "";

    if (levels[level].type === "intro") {
        checkBtn.style.display = "none";
        game.innerHTML = `
            <div style="
                background: rgba(255,255,255,0.7);
                padding: 20px;
                border-radius: 20px;
                font-size: 18px;
            ">
                ${levels[level].text}
                <br><br>
                <button onclick="nextLevel()">PokraÄovat â–¶ï¸</button>
            </div>
        `;
        return;
    }

    checkBtn.style.display = "inline-block";

    const wordsDiv = document.createElement("div");
    wordsDiv.className = "words";
    wordsDiv.ondragover = e => e.preventDefault();
    wordsDiv.ondrop = () => {
        if (dragged) wordsDiv.appendChild(dragged);
    };

    const targetsDiv = document.createElement("div");
    targetsDiv.className = "targets";

    levels[level].words.forEach(w => {
        const el = document.createElement("div");
        el.className = "word";
        el.id = w.id;
        el.innerText = w.text;
        el.draggable = true;
        el.ondragstart = () => dragged = el;
        wordsDiv.appendChild(el);
    });

    levels[level].targets.forEach(t => {
        const el = document.createElement("div");
        el.className = "target";
        el.dataset.answer = t.answer;

        const label = document.createElement("div");
        label.className = "label";
        label.innerText = t.text;

        const slot = document.createElement("div");
        slot.className = "slot";
        slot.ondragover = e => e.preventDefault();
        slot.ondrop = () => {
            if (dragged) {
                const existing = slot.querySelector(".word");
                if (existing) wordsDiv.appendChild(existing);
                slot.appendChild(dragged);
            }
        };

        el.appendChild(label);
        el.appendChild(slot);
        targetsDiv.appendChild(el);
    });

    game.appendChild(wordsDiv);
    game.appendChild(targetsDiv);
}

function nextLevel() {
    level++;
    loadLevel();
}

function check() {
    let ok = true;
    document.querySelectorAll(".target").forEach(t => {
        const word = t.querySelector(".slot .word");
        if (!word || word.id !== t.dataset.answer) ok = false;
    });

    if (ok) {
        soundCorrect.play();
        setTimeout(() => {
            if (level < levels.length - 1) {
                alert("ğŸŒŸ SkvÄ›lÃ©! PostupujeÅ¡ dÃ¡l!");
                nextLevel();
            } else {
                alert("ğŸ† Gratulujeme! Poklad je u starÃ©ho dubu ğŸŒ³");
            }
        }, 300);
    } else {
        soundWrong.play();
        alert("âŒ NÄ›co nesedÃ­, zkus to znovu.");
    }
}

loadLevel();
</script>

</body>
</html>
