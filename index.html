<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<title>T√°borov√° hra</title>

<link href="https://fonts.googleapis.com/css2?family=Luckiest+Guy&display=swap" rel="stylesheet">

<style>
body {
    font-family: "Luckiest Guy", cursive;
    background-image: url('final photo.png');
    text-align: center;
}

h1 {
    color: #2d3436;
}

#game {
    margin-top: 20px;
}

.words, .targets {
    display: flex;
    justify-content: center;
    gap: 15px;
    flex-wrap: wrap;
    margin: 20px;
}

.word {
    padding: 10px 15px;
    background: #6ab04c;
    color: white;
    border-radius: 10px;
    cursor: grab;
    box-shadow: 2px 2px 5px rgba(0,0,0,0.3);
}

.target {
    width: 220px;
    border: 3px dashed #2d3436;
    border-radius: 10px;
    background: #fff;
    padding: 8px;
}

button {
    padding: 12px 25px;
    font-size: 16px;
    border-radius: 10px;
    border: none;
    background: #f0932b;
    color: white;
    cursor: pointer;
}

button:hover {
    background: #e17055;
}

.label {
    font-size: 14px;
    margin-bottom: 5px;
}

.slot {
    height: 40px;
    border: 2px dashed #555;
    border-radius: 8px;
    background: #fff;
    display: flex;
    align-items: center;
    justify-content: center;

}
</style>
</head>

<body>

<h1 id="title">üèïÔ∏è T√°bor ‚Äì Stanovi≈°tƒõ 1</h1>
<p id="task">Pomoz vedouc√≠mu splnit √∫kol</p>

<div id="game"></div>

<button onclick="check()">Zkontrolovat √∫kol</button>

<script>
let level = 0;
let dragged = null;
const soundCorrect = new Audio("https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg");
const soundWrong   = new Audio("https://actions.google.com/sounds/v1/cartoon/boing.ogg");

const levels = [
{
    title: "üèïÔ∏è Stanovi≈°tƒõ 1 ‚Äì Co pat≈ô√≠ do batohu?",
    words: [
        {id:"spacak", text:"Spac√°k"},
        {id:"kartacek", text:"Kart√°ƒçek"},
        {id:"laptop", text:"Notebook"}
    ],
    targets: [
        {text:"Na span√≠", answer:"spacak"},
        {text:"Hygiena", answer:"kartacek"},
        {text:"Do t√°bora nepat≈ô√≠", answer:"laptop"}
    ]
},
{
    title: "üî• Stanovi≈°tƒõ 2 ‚Äì U ohnƒõ",
    words: [
        {id:"kytara", text:"Kytara"},
        {id:"sirky", text:"Sirky"},
        {id:"plysak", text:"Ply≈°√°k"}
    ],
    targets: [
        {text:"Hudba u ohnƒõ", answer:"kytara"},
        {text:"Rozdƒõl√°v√°n√≠ ohnƒõ", answer:"sirky"},
        {text:"Na span√≠ do stanu", answer:"plysak"}
    ]
},
{
    title: "üó∫Ô∏è Stanovi≈°tƒõ 3 ‚Äì Orientace v lese",
    words: [
        {id:"mapa", text:"Mapa"},
        {id:"kompas", text:"Kompas"},
        {id:"ovladac", text:"Ovladaƒç od TV"}
    ],
    targets: [
        {text:"Ukazuje cestu", answer:"mapa"},
        {text:"Ukazuje sever", answer:"kompas"},
        {text:"Do lesa nepat≈ô√≠", answer:"ovladac"}
    ]
}
];

function loadLevel() {
    const game = document.getElementById("game");
    game.innerHTML = "";

    document.getElementById("title").innerText = levels[level].title;

    const wordsDiv = document.createElement("div");
    wordsDiv.className = "words";

	wordsDiv.ondragover = e => e.preventDefault();
	wordsDiv.ondrop = () => {
    	if (dragged) {
       	 wordsDiv.appendChild(dragged);
    }
};

    const targetsDiv = document.createElement("div");
    targetsDiv.className = "targets";

    levels[level].words.forEach(w => {
        const el = document.createElement("div");
        el.className = "word";
        el.id = w.id;
        el.innerText = w.text;
        el.draggable = true;
        el.ondragstart = () => dragged = el;
	el.draggable = true;
        wordsDiv.appendChild(el);
    });

    levels[level].targets.forEach(t => {
    const el = document.createElement("div");
    el.className = "target";
    el.dataset.answer = t.answer;

    const label = document.createElement("div");
    label.className = "label";
    label.innerText = t.text;

    const slot = document.createElement("div");
    slot.className = "slot";

    slot.ondragover = e => e.preventDefault();
    slot.ondrop = () => {
    if (dragged) {
        const existing = slot.querySelector(".word");
        if (existing) {
            wordsDiv.appendChild(existing);
        }
        slot.appendChild(dragged);
    }
};

    el.appendChild(label);
    el.appendChild(slot);
    targetsDiv.appendChild(el);
});

    game.appendChild(wordsDiv);
    game.appendChild(targetsDiv);
}

function check() {
    let ok = true;

    document.querySelectorAll(".target").forEach(t => {
        const word = t.querySelector(".slot .word");
        if (!word || word.id !== t.dataset.answer) {
            ok = false;
        }
    });

    if (ok) {
        soundCorrect.play();
        setTimeout(() => {
            if (level < levels.length - 1) {
                alert("üåü Skvƒõl√©! Postupuje≈° na dal≈°√≠ stanovi≈°tƒõ!");
                level++;
                loadLevel();
            } else {
                alert("üèÜ Gratulujeme! Poklad je u star√©ho dubu üå≥");
            }
        }, 400);
    } else {
        soundWrong.play();
        alert("‚ùå Nƒõco nesed√≠, zkus to znovu.");
    }
}

loadLevel();
</script>

</body>
</html>
